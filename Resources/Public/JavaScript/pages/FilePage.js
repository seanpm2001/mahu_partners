mahupartners.FilePage=class extends mahupartners.AbstractPage{render(){}showBusyIndicator(){$(".companyfiles").append('<div style="width:100%;height:100%;position:absolute;text-align:center;background:gray;opacity:0.6;top:0"><p style="position: absolute;top: calc(50% - 14px);right: calc(50% - 14px);"><i class="fas fa-spinner fa-spin fa-2x"></i></p></div>')}addListeners(){let t=this;const a=function(){$(".companyfiles a.remove").click(function(e){e.stopPropagation(),e.preventDefault();let n=e.delegateTarget.href;n+="&tx_mahupartners_mahupartners[format]=part&type=1369315262",t.showBusyIndicator(),$.ajax(n,{async:!0,dataType:"text"}).done(function(t){$(".companyfiles").html(t),a()})})};a(),$('.fileuploadform input[type="submit"]').on("click",function(e){e.stopPropagation(),e.preventDefault();let n=$("form.fileuploadform")[0],o=n.action+"&tx_mahupartners_mahupartners[format]=part&type=1369315262";t.showBusyIndicator(),$.ajax({url:o,type:"POST",data:new FormData(n),cache:!1,contentType:!1,processData:!1}).done(function(t){$(".companyfiles").html(t),a()})})}};